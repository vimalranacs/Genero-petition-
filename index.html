<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Voice | ABES EC</title>
    <meta name="description"
        content="A student-driven platform for sharing collective feedback at ABES Engineering College.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

    <!-- ===== HERO ===== -->
    <section class="hero">
        <div class="hero-inner">
            <span class="badge">ABES Engineering College</span>
            <h1>Every Student<br>Deserves To Be Heard</h1>
            <p class="hero-sub">A collective student initiative for fair and inclusive participation in the upcoming
                fest.</p>

            <div class="hero-stats" id="heroStats">
                <div class="stat-item">
                    <span class="stat-num" id="heroCount">‚Äî</span>
                    <span class="stat-label">Signatures</span>
                </div>
                <div class="stat-divider"></div>
                <div class="stat-item">
                    <span class="stat-num" id="heroGoalPercent">‚Äî</span>
                    <span class="stat-label">of 500 Goal</span>
                </div>
            </div>

            <div class="progress-wrap">
                <div class="progress-bar" id="progressBar" style="width: 0%"></div>
            </div>

            <div class="hero-actions">
                <button class="btn-primary" onclick="scrollToSign()">Sign the Petition</button>
                <button class="btn-secondary" onclick="togglePetition()">Read Why ‚Üí</button>
            </div>
        </div>
    </section>

    <!-- ===== COLLAPSIBLE PETITION ===== -->
    <section class="petition-section" id="petitionSection">
        <div class="wrap">
            <div class="petition-toggle" id="petitionToggle" onclick="togglePetition()">
                <h2>About This Petition</h2>
                <span class="toggle-icon" id="toggleIcon">‚ñº</span>
            </div>

            <div class="petition-body" id="petitionBody">
                <div class="petition-content">
                    <p>Genero is a 3-day college fest at ABES Engineering College. While students appreciate the effort
                        behind the event, many face genuine financial concerns about the current ticket pricing.</p>

                    <div class="info-card">
                        <h4>üí∞ Pricing Concern</h4>
                        <p>The <strong>early bird ticket is ‚Çπ1,000</strong>, launched close to month-end when students
                            already manage hostel fees, food, transport, and academic costs.</p>
                    </div>

                    <div class="info-card">
                        <h4>üìä Estimated Collection</h4>
                        <p>‚Çπ1,000 √ó 5,000 students = <strong>‚Çπ50,00,000</strong><br>
                            ‚Çπ1,000 √ó 6,000 students = <strong>‚Çπ60,00,000</strong></p>
                        <p>Even conservatively, the fest may generate <strong>‚Çπ30‚Äì50 Lakhs+</strong> through tickets
                            alone ‚Äî before sponsorships.</p>
                    </div>

                    <h4>Key Concerns</h4>
                    <ul>
                        <li>Many students rely on monthly allowances and cannot arrange ‚Çπ1,000 instantly</li>
                        <li>Early bird timing ignored students' financial cycles</li>
                        <li>College fests elsewhere remain free or low-cost</li>
                        <li>High pricing may exclude a large student population</li>
                    </ul>

                    <h4>What We're Asking For</h4>
                    <ul class="request-list">
                        <li>Extend the early bird deadline</li>
                        <li>Reduce early bird pricing</li>
                        <li>Lower the regular ticket price</li>
                        <li>Ensure maximum students can participate</li>
                    </ul>

                    <div class="disclaimer">
                        This petition is not against the fest or organizers. It is a collective student voice requesting
                        reconsideration so Genero becomes a celebration accessible to everyone.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== SIGN FORM ===== -->
    <section class="section" id="signSection">
        <div class="wrap">
            <h2 class="section-title">Add Your Signature</h2>
            <p class="section-desc">Your identity is recorded but displayed anonymously in the public list.</p>

            <form id="petitionForm" class="sign-form">
                <div class="form-row">
                    <input type="text" id="nameInput" placeholder="Full Name" required>
                    <input type="text" id="rollInput" placeholder="Roll Number" required>
                </div>

                <select id="courseSelect" required>
                    <option value="">Select Course</option>
                    <option value="B.Tech">B.Tech</option>
                    <option value="BCA">BCA</option>
                    <option value="MBA">MBA</option>
                    <option value="MCA">MCA</option>
                </select>

                <div class="form-row">
                    <input type="text" id="branchInput" placeholder="Branch (e.g. CSE, IT, ECE)" required>
                    <select id="yearSelect" required>
                        <option value="">Select Year</option>
                        <option value="1st Year">1st Year</option>
                        <option value="2nd Year">2nd Year</option>
                        <option value="3rd Year">3rd Year</option>
                        <option value="4th Year">4th Year</option>
                    </select>
                </div>

                <button type="submit" id="submitBtn" class="btn-primary">Sign Petition</button>
            </form>

            <div id="message"></div>
        </div>
    </section>

    <!-- ===== SIGNED STUDENTS ===== -->
    <section class="section section-alt">
        <div class="wrap">
            <div class="section-header">
                <h2 class="section-title">Who Has Signed</h2>
                <span class="pill" id="signedCountPill">0 signatures</span>
            </div>
            <p class="section-desc">Students who have added their voice to this petition.</p>

            <div id="studentList" class="student-grid">
                <p class="empty-state">Loading signatures...</p>
            </div>

            <button class="btn-load-more" id="loadMoreBtn" style="display:none" onclick="showMoreStudents()">Show
                More</button>
        </div>
    </section>

    <!-- ===== STATISTICS ===== -->
    <section class="section">
        <div class="wrap">
            <h2 class="section-title">Statistics</h2>
            <p class="section-desc">Distribution of signatures across branches and years.</p>

            <div class="chart-grid">
                <div class="chart-card">
                    <h4>By Branch</h4>
                    <canvas id="branchChart"></canvas>
                </div>
                <div class="chart-card">
                    <h4>By Year</h4>
                    <canvas id="yearChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== COMMENTS ===== -->
    <section class="section section-alt">
        <div class="wrap">
            <h2 class="section-title">Student Opinions</h2>
            <p class="section-desc">Share your thoughts anonymously.</p>

            <div class="comment-form">
                <textarea id="commentText" placeholder="Write your opinion here..." rows="3"></textarea>
                <button class="btn-primary" onclick="postComment()" id="commentBtn">Post Comment</button>
            </div>

            <div id="commentsList"></div>
        </div>
    </section>

    <!-- ===== SHARE ===== -->
    <section class="section share-section">
        <div class="wrap">
            <h2 class="section-title">Spread the Word</h2>
            <p class="section-desc">Help more students see this petition.</p>
            <div class="share-buttons">
                <button class="btn-share btn-copy" onclick="copyLink()">üîó Copy Link</button>
                <button class="btn-share btn-wa" onclick="shareWhatsApp()">üì≤ WhatsApp</button>
                <button class="btn-share btn-tw" onclick="shareTwitter()">üê¶ Twitter</button>
            </div>
        </div>
    </section>

    <!-- ===== FOOTER ===== -->
    <footer class="footer">
        <div class="wrap">
            <p>Student Voice ‚Äî Built with care by students, for students.</p>
        </div>
    </footer>

    <script type="module" src="script.js"></script>
</body>

</html>