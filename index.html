<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Voice | ABES EC</title>
    <meta name="description"
        content="A student-driven platform for sharing collective feedback at ABES Engineering College.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

    <!-- ===== HERO ===== -->
    <section class="hero">
        <div class="hero-inner">
            <span class="badge">ABES Engineering College</span>
            <h1>Every Student<br>Deserves To Be Heard</h1>
            <p class="hero-sub">A collective student initiative for fair and inclusive participation in the upcoming
                fest.</p>

            <div class="hero-stats">
                <div class="stat-item">
                    <span class="stat-num" id="heroCount">‚Äî</span>
                    <span class="stat-label">Signatures</span>
                </div>
                <div class="stat-divider"></div>
                <div class="stat-item">
                    <span class="stat-num" id="heroGoalPercent">‚Äî</span>
                    <span class="stat-label">of 500 Goal</span>
                </div>
            </div>

            <div class="progress-wrap">
                <div class="progress-bar" id="progressBar" style="width: 0%"></div>
            </div>

            <div class="hero-actions">
                <button class="btn-primary" onclick="scrollToSign()">Sign the Petition</button>
                <button class="btn-secondary" onclick="togglePetition()">Read Why ‚Üí</button>
            </div>
        </div>
    </section>

    <!-- ===== COLLAPSIBLE PETITION ===== -->
    <section class="petition-section" id="petitionSection">
        <div class="wrap">
            <div class="petition-toggle" id="petitionToggle" onclick="togglePetition()">
                <h2>About This Petition</h2>
                <span class="toggle-icon" id="toggleIcon">‚ñº</span>
            </div>

            <div class="petition-body" id="petitionBody">
                <div class="petition-content">
                    <p>Genero is a 3-day college fest at ABES Engineering College. While students appreciate the effort
                        behind the event, many face genuine financial concerns about the current ticket pricing.</p>

                    <div class="info-card">
                        <h4>üí∞ Pricing Concern</h4>
                        <p>The <strong>early bird ticket is ‚Çπ1,000</strong>, launched close to month-end when students
                            already manage hostel fees, food, transport, and academic costs.</p>
                    </div>

                    <div class="info-card">
                        <h4>üìä Estimated Collection</h4>
                        <p>‚Çπ1,000 √ó 5,000 students = <strong>‚Çπ50,00,000</strong><br>
                            ‚Çπ1,000 √ó 6,000 students = <strong>‚Çπ60,00,000</strong></p>
                        <p>Even conservatively, the fest may generate <strong>‚Çπ30‚Äì50 Lakhs+</strong> through tickets
                            alone ‚Äî before sponsorships.</p>
                    </div>

                    <h4>Key Concerns</h4>
                    <ul>
                        <li>Many students rely on monthly allowances and cannot arrange ‚Çπ1,000 instantly</li>
                        <li>Early bird timing ignored students' financial cycles</li>
                        <li>College fests elsewhere remain free or low-cost</li>
                        <li>High pricing may exclude a large student population</li>
                        <li>No transparency on star performers, event lineup, or artist details</li>
                        <li>Students can't make informed purchasing decisions without seeing the event lineup</li>
                    </ul>

                    <div class="disclaimer">
                        This petition is not against the fest or organizers. It is a collective student voice requesting
                        reconsideration so Genero becomes a celebration accessible to everyone.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== OUR DEMANDS ===== -->
    <section class="section demands-section">
        <div class="wrap">
            <h2 class="section-title">Our Demands</h2>
            <p class="section-desc">What we're collectively asking the organizers for.</p>
            <div class="demands-grid">
                <div class="demand-card">
                    <div class="demand-icon">üí∏</div>
                    <h4>Lower Ticket Prices</h4>
                    <p>Reduce the early bird and regular ticket prices to a student-friendly range.</p>
                </div>
                <div class="demand-card">
                    <div class="demand-icon">üìÖ</div>
                    <h4>Extend Deadlines</h4>
                    <p>Give students more time to arrange funds by extending the early bird window.</p>
                </div>
                <div class="demand-card">
                    <div class="demand-icon">üé§</div>
                    <h4>Reveal Star Lineup</h4>
                    <p>Disclose the performing artists and event schedule before ticket purchases.</p>
                </div>
                <div class="demand-card">
                    <div class="demand-icon">üìã</div>
                    <h4>Event Transparency</h4>
                    <p>Publish a complete event breakdown ‚Äî what each ticket covers, what's included.</p>
                </div>
                <div class="demand-card">
                    <div class="demand-icon">üé´</div>
                    <h4>Flexible Options</h4>
                    <p>Offer day passes or partial event tickets instead of a single ‚Çπ1,000 pass.</p>
                </div>
                <div class="demand-card">
                    <div class="demand-icon">ü§ù</div>
                    <h4>Student Committee</h4>
                    <p>Include student representatives in pricing and planning decisions.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== PLEDGE ===== -->
    <section class="section section-alt pledge-section">
        <div class="wrap">
            <div class="pledge-box">
                <h2>‚úä Our Pledge</h2>
                <p>By signing this petition, I pledge that <strong>I will not purchase Genero tickets</strong> until our
                    collective voice is heard and meaningful relief has been provided.</p>
                <p>We stand together. We demand transparency, fairness, and respect for the student community.</p>
                <div class="pledge-count">
                    <span id="pledgeCount">‚Äî</span> students have taken this pledge
                </div>
            </div>
        </div>
    </section>

    <!-- ===== SIGN FORM ===== -->
    <section class="section" id="signSection">
        <div class="wrap">
            <h2 class="section-title">Add Your Signature</h2>
            <p class="section-desc">Sign the petition and take the pledge. You'll receive a certificate to screenshot.
            </p>

            <form id="petitionForm" class="sign-form">
                <div class="form-row">
                    <input type="text" id="nameInput" placeholder="Full Name" required>
                    <input type="text" id="rollInput" placeholder="Roll Number" required>
                </div>

                <select id="courseSelect" required onchange="updateBranchOptions()">
                    <option value="">Select Course</option>
                    <option value="B.Tech">B.Tech</option>
                    <option value="BCA">BCA</option>
                    <option value="MBA">MBA</option>
                    <option value="MCA">MCA</option>
                </select>

                <div class="form-row">
                    <select id="branchSelect" required>
                        <option value="">Select Branch (choose course first)</option>
                    </select>
                    <select id="yearSelect" required>
                        <option value="">Select Year</option>
                        <option value="1st Year">1st Year</option>
                        <option value="2nd Year">2nd Year</option>
                        <option value="3rd Year">3rd Year</option>
                        <option value="4th Year">4th Year</option>
                    </select>
                </div>

                <input type="text" id="otherBranchInput" placeholder="Enter your branch name" style="display:none">

                <button type="submit" id="submitBtn" class="btn-primary btn-full">Sign Petition & Take Pledge</button>
            </form>

            <div id="message"></div>
        </div>
    </section>

    <!-- ===== CERTIFICATE MODAL ===== -->
    <div class="cert-overlay" id="certOverlay" onclick="closeCertificate(event)">
        <div class="cert-container" id="certContainer">
            <div class="cert-frame" id="certFrame">
                <div class="cert-border">
                    <div class="cert-inner">
                        <div class="cert-logo">STUDENT VOICE</div>
                        <h2 class="cert-title">Certificate of Pledge</h2>
                        <div class="cert-divider"></div>
                        <p class="cert-body">This is to certify that</p>
                        <h3 class="cert-name" id="certName">‚Äî</h3>
                        <p class="cert-body">
                            of <strong id="certBranch">‚Äî</strong>, <strong id="certCourse">‚Äî</strong> ‚Äî <strong
                                id="certYear">‚Äî</strong>
                        </p>
                        <p class="cert-body">has signed the Genero Student Petition and pledges to stand with fellow
                            students for fair and inclusive fest pricing at ABES Engineering College.</p>
                        <div class="cert-divider"></div>
                        <div class="cert-footer-row">
                            <div>
                                <div class="cert-sig-line"></div>
                                <p class="cert-small">Student Voice Team</p>
                            </div>
                            <div>
                                <p class="cert-small"><strong>Signature #<span id="certNumber">‚Äî</span></strong></p>
                                <p class="cert-small" id="certDate">‚Äî</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <p class="cert-hint">üì∏ Take a screenshot of this certificate!<br>Tap anywhere outside to close.</p>
        </div>
    </div>

    <!-- ===== RECENTLY SIGNED TICKER ===== -->
    <section class="ticker-section" id="tickerSection" style="display:none">
        <div class="wrap">
            <div class="ticker" id="ticker"></div>
        </div>
    </section>

    <!-- ===== SIGNED STUDENTS ===== -->
    <section class="section section-alt">
        <div class="wrap">
            <div class="section-header">
                <h2 class="section-title">Who Has Signed</h2>
                <span class="pill" id="signedCountPill">0 signatures</span>
            </div>
            <p class="section-desc">Students who have added their voice to this petition.</p>

            <div id="studentList" class="student-grid">
                <p class="empty-state">Loading signatures...</p>
            </div>

            <button class="btn-load-more" id="loadMoreBtn" style="display:none" onclick="showMoreStudents()">Show
                More</button>
        </div>
    </section>

    <!-- ===== STATISTICS ===== -->
    <section class="section">
        <div class="wrap">
            <h2 class="section-title">Statistics</h2>
            <p class="section-desc">Distribution of signatures across branches and years.</p>
            <div class="chart-grid">
                <div class="chart-card">
                    <h4>By Branch</h4>
                    <canvas id="branchChart"></canvas>
                </div>
                <div class="chart-card">
                    <h4>By Year</h4>
                    <canvas id="yearChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== COMMENTS ===== -->
    <section class="section section-alt">
        <div class="wrap">
            <h2 class="section-title">Student Opinions</h2>
            <p class="section-desc">Share your thoughts anonymously. Duplicates are filtered out.</p>

            <div class="comment-form">
                <textarea id="commentText" placeholder="Write your opinion here..." rows="3"></textarea>
                <button class="btn-primary btn-full" onclick="postComment()" id="commentBtn">Post Comment</button>
            </div>

            <div id="commentsList"></div>
        </div>
    </section>

    <!-- ===== SHARE ===== -->
    <section class="section share-section">
        <div class="wrap">
            <h2 class="section-title">Spread the Word</h2>
            <p class="section-desc">Share this petition with your friends and class groups.</p>
            <div class="share-buttons">
                <button class="btn-share btn-copy" onclick="copyLink()">üîó Copy Link</button>
                <button class="btn-share btn-wa" onclick="shareWhatsApp()">üì≤ WhatsApp</button>
                <button class="btn-share btn-tw" onclick="shareTwitter()">üê¶ Twitter</button>
            </div>
        </div>
    </section>

    <!-- ===== FAQ ===== -->
    <section class="section section-alt">
        <div class="wrap">
            <h2 class="section-title">Frequently Asked Questions</h2>
            <div class="faq-list">
                <div class="faq-item">
                    <div class="faq-q" onclick="toggleFaq(this)">
                        <span>Is this petition against the college or organizers?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-a">No. This is a respectful collective student request. We appreciate the
                        organizers' hard work and simply want fair pricing so everyone can participate.</div>
                </div>
                <div class="faq-item">
                    <div class="faq-q" onclick="toggleFaq(this)">
                        <span>What does the pledge mean?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-a">By signing, you're saying you'll hold off on buying tickets until the organizers
                        address student concerns ‚Äî lower prices, extended deadlines, or event transparency. It's a
                        peaceful, collective stand.</div>
                </div>
                <div class="faq-item">
                    <div class="faq-q" onclick="toggleFaq(this)">
                        <span>Is my information safe?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-a">Your name and branch are publicly displayed. Your roll number is stored securely
                        and only used to prevent duplicate signatures.</div>
                </div>
                <div class="faq-item">
                    <div class="faq-q" onclick="toggleFaq(this)">
                        <span>Can I sign more than once?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-a">No. Each roll number can only sign once to maintain the petition's credibility
                        and accurate count.</div>
                </div>
                <div class="faq-item">
                    <div class="faq-q" onclick="toggleFaq(this)">
                        <span>Why should I ask for the star lineup?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-a">Students deserve to know what they're paying ‚Çπ1,000+ for. Revealing the lineup
                        helps everyone make an informed decision about whether the fest is worth the price for them.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== FOOTER ===== -->
    <footer class="footer">
        <div class="wrap">
            <p>Student Voice ‚Äî Built with care by students, for students.</p>
            <a href="admin.html" class="admin-link">Admin</a>
        </div>
    </footer>

    <button class="scroll-top" id="scrollTopBtn" onclick="window.scrollTo({top:0,behavior:'smooth'})">‚Üë</button>

    <script type="module" src="script.js"></script>
</body>

</html>